---
title: "Airline Tweet NLP"
author: "Jai Bansal"
date: "May 18, 2016"
output: word_document
---

This document conducts natural language processing (NLP) analysis on Twitter tweets about major US airlines scraped from the site during part of February 2015.  
Contributors were asked to classify positive, negative, and neutral tweets, followed by categorizing negative reasons (such as "late flight" or "rude service").
Thus, for each tweet, I have the 'correct' answer for sentiment analysis purposes.

The data can be found at the URL below. To find the dataset, search for 'Airline' on the page.  
I specifically use the 16,000 row dataset uploaded on February 12, 2015 by CrowdFlower.  
I assume the upload date is incorrect as the data includes tweets from after 2/12/2015...  

https://www.crowdflower.com/data-for-everyone/

Note that the actual dataset only appears to contain 14,640 rows. I'm not sure where the discrepancy between actual rows and rows stated on the website comes from, but it doesn't affect my analysis.

```{r import_and_prep, include = F, echo = F}
  
  # Load packages.
  library(data.table)
  library(tm)
  library(SnowballC)
  library(wordcloud)

  # Import data.
  tweet_data = data.table(read.csv('Airline-Sentiment-2-w-AA.csv', 
                                  header = T, 
                                  stringsAsFactors = F))
  
  # Change tweet text to all lowercase.
  tweet_data$text = tolower(tweet_data$text)
  
```

### Word Cloud:

Below is a word cloud with the 50 most frequently used words (technically stems) in the tweet data. 
The larger and darker a word, the more frequently it was used.

```{r word_cloud, include = T, echo = F}
  
  # Create corpus of tweet data ('tweet_data$text').
  tweet_corpus = Corpus(VectorSource(tweet_data$text))
  
  # Remove punctuation from 'tweet_corpus'.
  tweet_corpus = tm_map(tweet_corpus, 
                        removePunctuation)
  
  # Remove (English) stopwords and airline names from 'tweet_corpus'.
  # I want to exclude airline names in the word cloud and at least one airline name is likely to be in every tweet.
  tweet_corpus = tm_map(tweet_corpus, 
                        removeWords,
                        c('virginamerica', 'united', 'southwestair', 'jetblue', 'usairways', 'americanair', 
                          stopwords('english')))
  
  # Perform stemming on 'tweet_corpus'.
  tweet_corpus = tm_map(tweet_corpus, 
                        stemDocument)
  
  # Plot wordcloud.
  wordcloud(tweet_corpus,
            max.words = 50,
            random.order = F, 
            colors = c('lightskyblue', 'cornflowerblue', 'blue', 'blue4'))
  
```

